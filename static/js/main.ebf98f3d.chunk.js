(this["webpackJsonpreact-to-iso-render"]=this["webpackJsonpreact-to-iso-render"]||[]).push([[0],{0:function(e){e.exports=JSON.parse('{"TILESIZE":64,"BOARD_HEIGHT":12,"BOARD_WIDTH":7,"BOARD_LAYERS":1}')},17:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var A=a(4),n=a(6),r=a(8),s=a(7),o=a(2),i=a.n(o),c=a(11),g=a.n(c),h=(a(17),a(9)),l=a(0),u=a.p+"static/media/2.3b93bd89.png",m=a.p+"static/media/bg_world.4fae2a5e.gif",d=a(3),B=a(1);function I(e){var t="data:image/png;base64,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";return e.value%2===0?t="data:image/png;base64,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":e.value%3===0&&(t=u),Object(B.jsx)("img",{src:t,alt:"iso tile",width:l.TILESIZE*e.camera.zoom,height:l.TILESIZE*e.camera.zoom,style:{position:"absolute",top:e.top,left:e.left}})}var p=function e(){Object(A.a)(this,e),this.x=l.INIT_X,this.y=l.INIT_Y,this.offset_x=0,this.offset_y=0,this.vp_width=0,this.vp_height=0,this.speed=1,this.zoom=.5,this.width=4,this.height=4,this.max_zoom=4,this.angle=0},f=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(A.a)(this,a),(n=t.call(this,e)).handleMouseClick=function(e){"mousedown"===e.type?(n.setState({isMouseDown:!0}),n.setState({lastX:e.pageX,lastY:e.pageY,lastDragX:e.pageX,lastDragY:e.pageY})):n.setState({isMouseDown:!1,dragAmount:0})},n.camera=new p;var r=n.getBoardCenter();return n.camera.x=r.x,n.camera.y=r.y,n.state={tiles:null,layers:n.createLayers(),x:0,y:0,isMouseDown:!1,isDragging:!1,isPlacing:!0,selectedTile:1,placeI:0,placeJ:0,placeL:0,lastX:0,lastY:0,lastDragX:0,lastDragY:0},n.state.tiles=n.state.layers[0],n}return Object(n.a)(a,[{key:"createLayers",value:function(){for(var e=[],t=0;t<l.BOARD_LAYERS;t++)e[t]=w({rows:l.BOARD_HEIGHT,columns:l.BOARD_WIDTH,defaultValue:"0"});return e}},{key:"getBoardCenter",value:function(){var e=l.BOARD_WIDTH,t=l.BOARD_HEIGHT;return new d.Vector(.7*window.innerWidth/2-l.TILESIZE*this.camera.zoom/2-(e-t)*(l.TILESIZE*this.camera.zoom/2)/2,.95*window.innerHeight/2-(t+e)*(l.TILESIZE*this.camera.zoom/4)/2)}},{key:"center",value:function(e){var t=e[0].length,a=e.length,A=new d.Vector(.7*window.innerWidth/2-l.TILESIZE*this.camera.zoom/2-(t-a)*(l.TILESIZE*this.camera.zoom/2)/2,.95*window.innerHeight/2-(a+t)*(l.TILESIZE*this.camera.zoom/4)/2);this.camera.x=A.x,this.camera.y=A.y,this.setState({redraw:!0})}},{key:"getCenter",value:function(e){var t=e[0].length,a=e.length,A=(t-a)*(l.TILESIZE*this.camera.zoom/2)/2,n=(a+t)*(l.TILESIZE*this.camera.zoom/4)/2;return new d.Vector(this.camera.x+A+l.TILESIZE*this.camera.zoom/2,this.camera.y+n)}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),this.setState({x:e.pageX,y:e.pageY}),this.state.isMouseDown){if(2===e.buttons){this.setState({isDragging:!0,lastDragX:e.pageX,lastDragY:e.pageY});var t=new d.Vector(e.pageX,e.pageY),a=new d.Vector(this.state.lastDragX,this.state.lastDragY),A=t.subtract(a);this.updateCamera(A)}}else this.setState({isDragging:!1}),this.state.isPlacing}},{key:"updateCamera",value:function(e){this.camera.x+=e.x,this.camera.y+=e.y}},{key:"rotate",value:function(e){for(var t=this.state.layers.slice(),a=this.getCenter(t[0]).x,A=0;A<this.state.layers.length;A++){for(var n=this.state.layers[A].slice(),r=n.length,s=n[0].length,o=[],i=0;i<s;i++)o[i]=Array(r);for(var c=0;c<r;c++)for(var g=0;g<s;g++){var h="clockwise"===e?r-c-1:c,l="clockwise"===e?g:s-g-1;o[g][c]=n[h][l]}t[A]=o.slice()}var u=this.getCenter(t[0]).x-a;this.camera.x-=u,this.setState({layers:t})}},{key:"rotateCamera",value:function(e,t){"clockwise"===e?this.camera.angle=(this.camera.angle+1)%4:(this.camera.angle--,this.camera.angle<0&&(this.camera.angle=3)),1===this.camera.angle||2===this.camera.angle||this.camera.angle}},{key:"handleClick",value:function(e,t){if(!this.state.isDragging){var a=this.state.tiles.slice(),A=this.convertToMap(this.state.x,this.state.y),n=Math.floor(A[0]),r=Math.floor(A[1]);a[n][r]=a[n][r]>="1"?"1":"0",this.setState({tiles:a})}}},{key:"convertToMap",value:function(e,t){var a=l.TILESIZE*this.camera.zoom,A=a/2;e=e-A-this.camera.x-this.camera.offset_x,t=t-this.camera.y-this.camera.offset_y;var n=Math.trunc(t/A-e/a),r=Math.trunc(t/A+e/a);return n<0&&(n=0),n>=this.state.tiles.length&&(n=this.state.tiles.length-1),r<0&&(r=0),r>=this.state.tiles[0].length&&(r=this.state.tiles[0].length-1),[n,r]}},{key:"renderLayer",value:function(e,t){var a=this;return Object(h.a)(Array(e.length)).map((function(A,n){return Object(B.jsx)("span",{children:a.renderRow(e,t,n)},n)}))}},{key:"renderRow",value:function(e,t,a){var A=this;return Object(h.a)(Array(e[a].length)).map((function(n,r){return Object(B.jsx)("span",{children:A.renderTile(e,t,a,r)},r)}))}},{key:"renderTile",value:function(e,t,a,A){return Object(B.jsx)(I,{value:e[a][A],camera:this.camera,center:this.getBoardCenter(),top:(a+A)*(l.TILESIZE*this.camera.zoom/4)+this.camera.y-t*l.TILESIZE*this.camera.zoom/2,left:(A-a)*(l.TILESIZE*this.camera.zoom/2)+this.camera.x})}},{key:"onWheel",value:function(e){var t=-e.deltaY/3200;this.camera.zoom+t>0&&this.camera.zoom+t<=this.camera.max_zoom&&(this.camera.zoom+=t,this.setState({render:!0}))}},{key:"render",value:function(){var e=this;return Object(B.jsxs)("div",{className:"game-board",style:{backgroundImage:"url(".concat(m,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},onMouseDown:this.handleMouseClick,onMouseUp:this.handleMouseClick,onMouseMove:this.onMouseMove.bind(this),onWheel:this.onWheel.bind(this),ref:function(t){t&&(e.camera.offset_x=t.getBoundingClientRect().left,e.camera.offset_y=t.getBoundingClientRect().top,e.camera.vp_width=t.getBoundingClientRect().right-t.getBoundingClientRect().left,e.camera.vp_height=t.getBoundingClientRect().bottom-t.getBoundingClientRect().top)},children:[Object(B.jsx)("div",{onClick:function(){return e.handleClick(e.state.x,+e.state.y)},children:Object(h.a)(Array(this.state.layers.length)).map((function(t,a){return Object(B.jsx)("span",{children:e.renderLayer(e.state.layers[a],a)},a)}))}),Object(B.jsx)("button",{className:"rotate-button",onClick:function(){return e.rotate("anticlockwise")},children:"Anti-clockwise"}),Object(B.jsx)("button",{className:"rotate-button",onClick:function(){return e.rotate("clockwise")},children:"Clockwise"}),Object(B.jsx)("button",{className:"center-button",onClick:function(){return e.center(e.state.layers[0])},children:"Center"})]})}}]),a}(i.a.Component);function w(e){var t=e.rows,a=e.columns;e.defaultValue;return Array.from({length:t},(function(e,t){return Array.from({length:a},(function(e,a){return t+a}))}))}var C=a(12),T=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(A.a)(this,a),n=t.call(this,e),document.body.style.overflow="hidden",window.addEventListener("contextmenu",(function(e){return e.preventDefault()})),n}return Object(n.a)(a,[{key:"render",value:function(){return Object(B.jsxs)("div",{className:"game",children:[Object(B.jsx)("div",{children:Object(B.jsx)(f,{})}),Object(B.jsxs)("div",{className:"game-info",children:[Object(B.jsx)(C.a,{width:150,height:90,left:900,top:15}),Object(B.jsx)("div",{}),Object(B.jsx)("ol",{})]})]})}}]),a}(i.a.Component);g.a.render(Object(B.jsx)(T,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ebf98f3d.chunk.js.map